<!DOCTYPE html>\n<html lang=\"ko\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>{% block title %}리뷰 자동화 서비스{% endblock %}</title>\n    \n    <!-- 기본 스타일 -->\n    <link rel=\"stylesheet\" href=\"{{ url_for('static', path='/css/style.css') }}\">\n    \n    <!-- 부트스트랩 아이콘 -->\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css\">\n    \n    <!-- Font Awesome -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    \n    <!-- Chart.js -->\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js\"></script>\n    \n    {% block extra_css %}{% endblock %}\n</head>\n<body>\n    <!-- 네비게이션 바 -->\n    <nav class=\"navbar\">\n        <div class=\"container\">\n            <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n                <a href=\"/\" class=\"navbar-brand\">\n                    <i class=\"bi bi-chat-dots-fill\"></i> 리뷰 자동화\n                </a>\n                \n                <div id=\"navbar-menu\">\n                    {% if user %}\n                    <span class=\"text-muted\">{{ user.name }}님</span>\n                    <a href=\"/dashboard\" class=\"btn btn-sm\">대시보드</a>\n                    <a href=\"/stores\" class=\"btn btn-sm\">매장 관리</a>\n                    <a href=\"/reviews\" class=\"btn btn-sm\">리뷰 관리</a>\n                    <a href=\"#\" onclick=\"logout()\" class=\"btn btn-sm\">로그아웃</a>\n                    {% else %}\n                    <a href=\"/login\" class=\"btn btn-primary btn-sm\">로그인</a>\n                    <a href=\"/register\" class=\"btn btn-secondary btn-sm\">회원가입</a>\n                    {% endif %}\n                </div>\n            </div>\n        </div>\n    </nav>\n    \n    <!-- 메인 컨텐츠 -->\n    <main class=\"container\" style=\"margin-top: 2rem; min-height: calc(100vh - 200px);\">\n        {% block content %}{% endblock %}\n    </main>\n    \n    <!-- 푸터 -->\n    <footer style=\"background-color: #f8fafc; padding: 2rem 0; margin-top: 3rem; border-top: 1px solid #e2e8f0;\">\n        <div class=\"container text-center text-muted\">\n            <p>&copy; 2024 리뷰 자동화 서비스. All rights reserved.</p>\n        </div>\n    </footer>\n    \n    <!-- API 설정 및 기본 스크립트 -->\n    <script src=\"{{ url_for('static', path='/js/api-config.js') }}\"></script>\n    <script>\n        // 기본 함수들 (호환성 유지)\n        function showAlert(message, type = 'info') {\n            const alertDiv = document.createElement('div');\n            alertDiv.className = `alert alert-${type}`;\n            alertDiv.textContent = message;\n            \n            const container = document.querySelector('.container');\n            container.insertBefore(alertDiv, container.firstChild);\n            \n            setTimeout(() => {\n                alertDiv.remove();\n            }, 5000);\n        }\n        \n        // 페이지 로드시 사용자 상태 확인\n        document.addEventListener('DOMContentLoaded', function() {\n            const token = getToken();\n            const navbarMenu = document.getElementById('navbar-menu');\n            \n            if (token && navbarMenu) {\n                // 토큰이 있으면 로그인 상태로 표시\n                // 서버에서 user 정보를 전달하지 않는 경우를 위한 처리\n                if (!navbarMenu.querySelector('.text-muted')) {\n                    navbarMenu.innerHTML = `\n                        <span class=\"text-muted\">로그인됨</span>\n                        <a href=\"/dashboard\" class=\"btn btn-sm\">대시보드</a>\n                        <a href=\"/stores\" class=\"btn btn-sm\">매장 관리</a>\n                        <a href=\"/reviews\" class=\"btn btn-sm\">리뷰 관리</a>\n                        <a href=\"#\" onclick=\"logout()\" class=\"btn btn-sm\">로그아웃</a>\n                    `;\n                }\n            }\n        });\n    </script>\n    \n    {% block extra_js %}{% endblock %}\n    {% block scripts %}{% endblock %}\n</body>\n</html>"